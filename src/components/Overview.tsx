import { useEffect, useState } from "react";

interface OverviewProps {
    weatherData: {
        tempC: number | null;
        windMph: number | null;
        precipitation: number | null;
    };
};

export default function Overview(props: OverviewProps) {
    const weatherData = props.weatherData;

    const [temp, setTemp] = useState<number | null>(null);
    const [windSpeed, setWindspeed] = useState<number  | null>(null);
    const [rainChance, setRainChance] = useState<number | null>(null);

    useEffect(() => {
        setTemp(weatherData.tempC);
        setWindspeed(weatherData.windMph);
        setRainChance(weatherData.precipitation);
    }, [weatherData])

    return (
        <div className="w-fit flex flex-row sm:flex-col lg:flex-row gap-8 lg:gap-28 items-center sm:items-start lg:items-center mx-auto sm:ml-14 lg:mx-auto text-3xl sm:text-4xl lg:text-3xl text-white">
            <div className="flex flex-col sm:flex-row lg:flex-col gap-2 lg:gap-0 items-center justify-between">
                <svg className="w-8 fill-grey" viewBox="0 0 52 69" xmlns="http://www.w3.org/2000/svg">
                    <path d="M22.3708 50.1341C24.092 53.1299 24.2004 56.9488 22.3427 60.1664C19.5686 64.9714 13.4324 66.634 8.65429 63.8754C3.87622 61.1168 2.24804 54.9714 5.02221 50.1664C6.8799 46.9488 10.2413 45.1332 13.6964 45.1259L35.7988 6.84327C37.1777 4.45507 40.257 3.62069 42.6318 4.99179C45.0066 6.36289 45.8237 9.44686 44.4449 11.8351L39.8543 19.7862L42.8264 21.5021L42.1824 22.6175L39.2103 20.9016L35.1481 27.9375L38.1202 29.6534L37.4762 30.7689L34.5041 29.0529L30.442 36.0888L33.414 37.8047L32.77 38.9202L29.798 37.2043L25.7358 44.2401L28.7079 45.9561L28.0639 47.0715L25.0918 45.3556L22.3176 50.1606L22.3708 50.1341ZM18.7786 50.2147L29.157 32.2389L25.8009 30.3013L15.4226 48.2771C12.4276 47.5204 9.17996 48.8106 7.55345 51.6278C5.58841 55.0313 6.73947 59.3759 10.1239 61.3299C13.5084 63.2839 17.8464 62.1085 19.8115 58.705C21.438 55.8878 20.9315 52.4301 18.7786 50.2147ZM20.2864 50.1319L42.9091 10.9484C43.7925 9.4182 43.2677 7.43725 41.7461 6.55876C40.2245 5.68027 38.2465 6.21623 37.3631 7.74639L14.7405 46.9299L13.6941 46.936C10.7694 46.9444 8.04188 48.5158 6.56398 51.0756C4.2852 55.0225 5.6294 60.0506 9.54002 62.3084C13.4649 64.5745 18.4855 63.202 20.756 59.2693C22.2339 56.7095 22.237 53.5843 20.7759 51.0247L20.258 50.1155L20.2864 50.1319Z" />
                </svg>
                <h2>{temp}Â°C</h2>
            </div>

            <div className="h-full flex flex-col sm:flex-row lg:flex-col gap-2 lg:gap-0 items-center justify-between">
                <svg className="w-8 fill-grey" viewBox="0 0 50 51" xmlns="http://www.w3.org/2000/svg">
                    <path d="M29.875 49.7582C29.25 50.0915 28.6146 50.1436 27.9688 49.9145C27.3229 49.6853 26.8333 49.2582 26.5 48.6332L22.75 41.1332C22.4167 40.5082 22.3646 39.8728 22.5938 39.227C22.8229 38.5811 23.25 38.0915 23.875 37.7582C24.5 37.4249 25.1354 37.3728 25.7812 37.602C26.4271 37.8311 26.9167 38.2582 27.25 38.8832L31 46.3832C31.3333 47.0082 31.3854 47.6436 31.1562 48.2895C30.9271 48.9353 30.5 49.4249 29.875 49.7582ZM44.875 49.7582C44.25 50.0915 43.6146 50.1436 42.9688 49.9145C42.3229 49.6853 41.8333 49.2582 41.5 48.6332L37.75 41.1332C37.4167 40.5082 37.3646 39.8728 37.5938 39.227C37.8229 38.5811 38.25 38.0915 38.875 37.7582C39.5 37.4249 40.1354 37.3728 40.7812 37.602C41.4271 37.8311 41.9167 38.2582 42.25 38.8832L46 46.3832C46.3333 47.0082 46.3854 47.6436 46.1562 48.2895C45.9271 48.9353 45.5 49.4249 44.875 49.7582ZM14.875 49.7582C14.25 50.0915 13.6146 50.1436 12.9688 49.9145C12.3229 49.6853 11.8333 49.2582 11.5 48.6332L7.75 41.1332C7.41667 40.5082 7.36458 39.8728 7.59375 39.227C7.82292 38.5811 8.25 38.0915 8.875 37.7582C9.5 37.4249 10.1354 37.3728 10.7812 37.602C11.4271 37.8311 11.9167 38.2582 12.25 38.8832L16 46.3832C16.3333 47.0082 16.3854 47.6436 16.1562 48.2895C15.9271 48.9353 15.5 49.4249 14.875 49.7582ZM13.75 35.0082C9.95833 35.0082 6.71875 33.6645 4.03125 30.977C1.34375 28.2895 0 25.0499 0 21.2582C0 17.7999 1.14583 14.779 3.4375 12.1957C5.72917 9.61238 8.5625 8.09154 11.9375 7.63321C13.2708 5.25821 15.0938 3.39363 17.4062 2.03946C19.7188 0.685293 22.25 0.00820923 25 0.00820923C28.75 0.00820923 32.0104 1.20613 34.7812 3.60196C37.5521 5.99779 39.2292 8.98738 39.8125 12.5707C42.6875 12.8207 45.1042 14.0082 47.0625 16.1332C49.0208 18.2582 50 20.7999 50 23.7582C50 26.8832 48.9062 29.5395 46.7188 31.727C44.5312 33.9145 41.875 35.0082 38.75 35.0082H13.75ZM13.75 30.0082H38.75C40.5 30.0082 41.9792 29.404 43.1875 28.1957C44.3958 26.9874 45 25.5082 45 23.7582C45 22.0082 44.3958 20.529 43.1875 19.3207C41.9792 18.1124 40.5 17.5082 38.75 17.5082H35V15.0082C35 12.2582 34.0208 9.90404 32.0625 7.94571C30.1042 5.98738 27.75 5.00821 25 5.00821C23 5.00821 21.1771 5.54988 19.5312 6.63321C17.8854 7.71654 16.6458 9.17488 15.8125 11.0082L15.1875 12.5082H13.625C11.25 12.5915 9.21875 13.477 7.53125 15.1645C5.84375 16.852 5 18.8832 5 21.2582C5 23.6749 5.85417 25.7374 7.5625 27.4457C9.27083 29.154 11.3333 30.0082 13.75 30.0082Z" />
                </svg>
                <h2>{rainChance}%</h2>
            </div>

            <div className="h-full flex flex-col sm:flex-row lg:flex-col gap-2 lg:gap-0 items-center justify-between">
                <svg className="w-8 fill-grey" viewBox="0 0 50 43" xmlns="http://www.w3.org/2000/svg">
                <path d="M23.75 43.0082C21.6667 43.0082 19.8958 42.279 18.4375 40.8207C16.9792 39.3624 16.25 37.5915 16.25 35.5082H21.25C21.25 36.2165 21.4896 36.8103 21.9688 37.2895C22.4479 37.7686 23.0417 38.0082 23.75 38.0082C24.4583 38.0082 25.0521 37.7686 25.5312 37.2895C26.0104 36.8103 26.25 36.2165 26.25 35.5082C26.25 34.7999 26.0104 34.2061 25.5312 33.727C25.0521 33.2478 24.4583 33.0082 23.75 33.0082H0V28.0082H23.75C25.8333 28.0082 27.6042 28.7374 29.0625 30.1957C30.5208 31.654 31.25 33.4249 31.25 35.5082C31.25 37.5915 30.5208 39.3624 29.0625 40.8207C27.6042 42.279 25.8333 43.0082 23.75 43.0082ZM0 18.0082V13.0082H33.75C34.8333 13.0082 35.7292 12.654 36.4375 11.9457C37.1458 11.2374 37.5 10.3415 37.5 9.25821C37.5 8.17488 37.1458 7.27904 36.4375 6.57071C35.7292 5.86238 34.8333 5.50821 33.75 5.50821C32.6667 5.50821 31.7708 5.86238 31.0625 6.57071C30.3542 7.27904 30 8.17488 30 9.25821H25C25 6.79988 25.8438 4.72696 27.5312 3.03946C29.2188 1.35196 31.2917 0.508209 33.75 0.508209C36.2083 0.508209 38.2812 1.35196 39.9688 3.03946C41.6562 4.72696 42.5 6.79988 42.5 9.25821C42.5 11.7165 41.6562 13.7895 39.9688 15.477C38.2812 17.1645 36.2083 18.0082 33.75 18.0082H0ZM41.25 38.0082V33.0082C42.3333 33.0082 43.2292 32.654 43.9375 31.9457C44.6458 31.2374 45 30.3415 45 29.2582C45 28.1749 44.6458 27.279 43.9375 26.5707C43.2292 25.8624 42.3333 25.5082 41.25 25.5082H0V20.5082H41.25C43.7083 20.5082 45.7812 21.352 47.4688 23.0395C49.1562 24.727 50 26.7999 50 29.2582C50 31.7165 49.1562 33.7895 47.4688 35.477C45.7812 37.1645 43.7083 38.0082 41.25 38.0082Z" />
                </svg>
                <h2>{windSpeed}mph</h2>
            </div>
        </div>
    );
};